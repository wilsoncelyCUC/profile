---
import { getCollection } from 'astro:content';
import { siteConfig } from '../../data/site-config';
import ServiceCard from '../ui/ServiceCard.astro';

const services = await getCollection('services');
const sortedServices = services.sort((a, b) => a.data.order - b.data.order);
---

<section id="services" class="section-shell border-b border-navy-800">
  <div class="content-shell">
    <div class="mx-auto mb-12 max-w-4xl text-center">
      <p class="font-mono text-xs uppercase tracking-[0.25em] text-cyan-400">Services</p>
      <h2 class="mt-3 text-3xl font-bold sm:text-4xl">{siteConfig.servicesSection.title}</h2>
      <p class="mt-6 text-lg leading-relaxed text-slate-300">{siteConfig.servicesSection.intro}</p>
    </div>

    <div class="grid grid-cols-1 gap-6 lg:grid-cols-3">
      {sortedServices.map((service) => (
        <ServiceCard service={service.data} />
      ))}
    </div>
  </div>
</section>
