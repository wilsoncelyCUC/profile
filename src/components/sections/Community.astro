---
import { resolveBookingUrl, siteConfig } from '../../data/site-config';

const { community } = siteConfig;
const sponsorLink = resolveBookingUrl(community.sponsor.link);
---

<section id="community" class="section-shell border-b border-navy-800 py-20">
  <div class="content-shell">
    <div class="mb-10 text-center">
      <p class="font-mono text-xs uppercase tracking-[0.25em] text-cyan-400">Community</p>
      <h2 class="mt-3 text-3xl font-bold sm:text-4xl">{community.headline}</h2>
      <p class="mx-auto mt-4 max-w-2xl text-lg text-slate-300">
        {community.description}
        <span class="font-mono font-bold text-cyan-400"> {community.membersShort}</span> practitioners.
      </p>
    </div>

    <div class="grid gap-6 lg:grid-cols-2">
      <article class="surface-card p-7">
        <div class="mb-4 inline-flex items-center gap-2 rounded-full border border-amber-500/30 bg-amber-900/30 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-amber-500">
          <span class="h-1.5 w-1.5 rounded-full bg-amber-500"></span>{community.event.urgencyText}
        </div>
        <h3 class="text-2xl font-semibold">{community.event.title}</h3>
        <p class="mt-2 font-mono text-sm text-cyan-400">{community.event.date}</p>
        <p class="mt-4 text-sm text-slate-300">{community.event.description}</p>
        <div class="mt-6 flex items-center justify-between gap-4">
          <span class="text-sm text-slate-400">{community.event.spotsLeft}</span>
          <a href={community.event.link} target="_blank" rel="noopener noreferrer" class="btn-primary">RSVP</a>
        </div>
      </article>

      <article class="surface-card p-7">
        <h3 class="text-2xl font-semibold">{community.sponsor.title}</h3>
        <p class="mt-4 text-sm text-slate-300">{community.sponsor.description}</p>
        <div class="mt-6 flex flex-wrap gap-3">
          <a href={sponsorLink} target="_blank" rel="noopener noreferrer" class="btn-secondary">
            {community.sponsor.cta}
          </a>
          <a href={community.link} target="_blank" rel="noopener noreferrer" class="inline-flex items-center text-sm font-semibold text-slate-300 hover:text-cyan-400">
            Join community
          </a>
        </div>
      </article>
    </div>
  </div>
</section>
