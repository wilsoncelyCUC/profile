---
interface Props {
  service: {
    title: string;
    slug: string;
    bestFor: string;
    outcome: string;
    deliverables: string[];
    format: string;
    ctaText: string;
  };
  delay?: number;
}

const { service, delay = 0 } = Astro.props;

const serviceParam = service.slug || service.title.toLowerCase().replace(/\s+/g, '-');
---

<div
  x-data="{ visible: false }"
  x-intersect:enter="visible = true"
  :class="{ 'opacity-100 translate-y-0': visible, 'opacity-0 translate-y-8': !visible }"
  class="bg-white rounded-lg p-8 transition-all duration-700 hover:shadow-xl group flex flex-col"
  style={`transition-delay: ${delay}ms`}
>
  <h3 class="text-xl font-bold text-brand-gray mb-4 group-hover:text-brand-green transition-colors">
    {service.title}
  </h3>

  <div class="mb-4">
    <span class="text-xs font-semibold text-brand-green uppercase tracking-wide">Best for</span>
    <p class="text-brand-gray/80 mt-1 text-sm">{service.bestFor}</p>
  </div>

  <div class="mb-4">
    <span class="text-xs font-semibold text-brand-green uppercase tracking-wide">Outcome</span>
    <p class="text-brand-gray/80 mt-1 text-sm">{service.outcome}</p>
  </div>

  <div class="mb-4 flex-grow">
    <span class="text-xs font-semibold text-brand-green uppercase tracking-wide">What you get</span>
    <ul class="mt-2 space-y-1">
      {service.deliverables.map((item) => (
        <li class="text-brand-gray/80 text-sm flex items-start">
          <span class="text-brand-green mr-2 flex-shrink-0">-</span>
          <span>{item}</span>
        </li>
      ))}
    </ul>
  </div>

  <div class="mb-6">
    <span class="text-xs font-semibold text-brand-green uppercase tracking-wide">Format</span>
    <p class="text-brand-gray/80 mt-1 text-sm">{service.format}</p>
  </div>

  <a
    href={`#contact?service=${serviceParam}`}
    class="mt-auto inline-block w-full text-center bg-brand-gray text-white px-6 py-3 rounded font-semibold hover:bg-brand-green transition-colors"
  >
    {service.ctaText}
  </a>
</div>
