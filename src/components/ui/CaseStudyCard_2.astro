---
import type { PillarKey } from '../../data/site-config';

interface Props {
  caseStudy: {
    title: string;
    industry: string;
    context: string;
    challenge: string;
    actions: string[];
    outcome: string;
    pillar: PillarKey;
    metrics?: string[];
    tags?: string[];
  };
}

const { caseStudy } = Astro.props;

const pillarLabels: Record<PillarKey, string> = {
  build: 'Discover/Build',
  ship: 'Build/Ship',
  prove: 'Measure/Scale',
};
---

<article class="v2-card p-6">
  <div class="flex items-center justify-between gap-2">
    <p class="text-xs uppercase tracking-[0.16em] text-slate-400">{caseStudy.industry}</p>
    <span class="rounded-full border border-sky-400/35 bg-sky-500/10 px-2.5 py-1 text-xs text-sky-200">
      {pillarLabels[caseStudy.pillar]}
    </span>
  </div>

  <h3 class="mt-3 text-xl font-semibold text-white">{caseStudy.title}</h3>

  <div class="mt-4 rounded-lg bg-sky-950/35 px-4 py-3">
    <p class="text-xs uppercase tracking-[0.16em] text-sky-300">Outcome</p>
    <p class="mt-1 text-sm text-sky-100">{caseStudy.outcome}</p>
  </div>

  <p class="mt-4 text-sm text-slate-300"><span class="font-semibold text-white">Challenge:</span> {caseStudy.challenge}</p>

  <ul class="mt-4 space-y-1.5 text-sm text-slate-300">
    {caseStudy.actions.slice(0, 2).map((action) => (
      <li class="flex gap-2">
        <span class="mt-2 h-1.5 w-1.5 rounded-full bg-sky-300"></span>
        <span>{action}</span>
      </li>
    ))}
  </ul>
</article>
