---
import type { PillarKey } from '../../data/site-config';

interface Props {
  caseStudy: {
    title: string;
    industry: string;
    context: string;
    challenge: string;
    actions: string[];
    outcome: string;
    pillar: PillarKey;
    tags?: string[];
  };
}

const { caseStudy } = Astro.props;

const pillarStyle: Record<PillarKey, string> = {
  build: 'bg-cyan-900/30 text-cyan-400 border-cyan-500/30',
  ship: 'bg-blue-900/30 text-blue-300 border-blue-400/30',
  prove: 'bg-emerald-900/30 text-emerald-300 border-emerald-400/30',
  poc: 'bg-sky-900/30 text-sky-300 border-sky-400/30',
};
---

<article class="surface-card h-full p-6">
  <div class="mb-4 flex items-center justify-between gap-2">
    <span class="rounded-full border border-navy-700 bg-navy-900 px-3 py-1 font-mono text-xs uppercase tracking-wide text-slate-300">
      {caseStudy.industry}
    </span>
    <span class={`rounded-full border px-3 py-1 text-xs font-semibold uppercase tracking-wide ${pillarStyle[caseStudy.pillar]}`}>
      {caseStudy.pillar}
    </span>
  </div>

  <h3 class="text-xl font-semibold text-white">{caseStudy.title}</h3>
  <p class="mt-3 text-sm text-slate-300">{caseStudy.context}</p>

  <div class="mt-4 space-y-4 text-sm">
    <div>
      <p class="font-semibold text-white">Challenge</p>
      <p class="mt-1 text-slate-300">{caseStudy.challenge}</p>
    </div>

    <div>
      <p class="font-semibold text-white">Actions</p>
      <ul class="mt-2 space-y-1 text-slate-300">
        {caseStudy.actions.map((item) => (
          <li class="flex gap-2"><span class="mt-1 h-1.5 w-1.5 rounded-full bg-cyan-400"></span><span>{item}</span></li>
        ))}
      </ul>
    </div>

    <div>
      <p class="font-semibold text-white">Outcome</p>
      <p class="mt-1 text-slate-300">{caseStudy.outcome}</p>
    </div>
  </div>

  {caseStudy.tags && caseStudy.tags.length > 0 && (
    <div class="mt-4 flex flex-wrap gap-2">
      {caseStudy.tags.map((tag) => (
        <span class="rounded-full border border-navy-700 px-2.5 py-1 text-xs text-slate-400">{tag}</span>
      ))}
    </div>
  )}
</article>
